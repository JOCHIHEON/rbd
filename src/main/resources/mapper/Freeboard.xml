<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.FREEBOARD">
	<insert id="insertFree" parameterType="freeboardVO">
		insert into free_board(fre_title, fre_content, fre_credat, fre_moddat, ui_no)
		values(#{fre_title}, #{fre_content}, now(), now(), #{ui_no})
	</insert>
	<update id="updateFree" parameterType="freeboardVO">
		update free_board
		<set>
			<if test="fre_title != null">fre_title = #{fre_title}, </if>
			<if test="fre_content != null">fre_content = #{fre_content}, </if>
			fre_moddat = now()
		</set>
		where fre_no = #{fre_no} and ui_no = #{ui_no}
	</update>
	<delete id="deleteFree" parameterType="freeboardVO">
		delete from free_board where fre_no = #{fre_no} and ui_no = #{ui_no}
	</delete>
	
	<select id="freeView" parameterType="int" resultType="freeboardVO">
		select fre_title, fre_content, fre_moddat, fre_lookupcnt, fre_like, fre_unlike from free_board
		where fre_no = #{fre_no}
	</select>
	
	<select id="freeListView" parameterType="freeboardVO" resultType="freeboardVO">
		select fre_title, fre_content, fre_moddat, fre_lookupcnt from free_board
		order by fre_no desc LIMIT #{paging.startViewNum}, #{paging.viewLength}
	</select>
	<select id="selectFreeCount" resultType="int">
		select count(*) from free_board
	</select>
</mapper>